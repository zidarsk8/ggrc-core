{{!
    Copyright (C) 2018 Google Inc.
    Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
}}

<reusable-object list="reusedObjects" parent-instance="parentInstance" base-instance="baseInstance" mapping="mapping" isLoading="isLoading">
  <li data-object-id="{{instance.id}}" data-object-type="{{instance.class.table_singular}}">
    {{#instance.selfLink}}
      <i class="fa fa-file-{{file_type instance}}-o"></i>
    {{/instance.selfLink}}

    <span class="date">{{date instance.created_at true}}</span>

    <a href="{{schemed_url instance.link}}" class="title" target="_blank">
      <span>{{firstnonempty instance.title instance.link}}</span>
    </a>

    {{#is_allowed 'update' parentInstance context='for'}}
      {{#instance}}
        {{#if_helpers '\
          #unless' instance.snapshot '\
          and #unless' instance.isRevision}}
          <span class="trash-control">
            <a href="javascript://" class="info-action unmap" data-toggle="unmap">
              <span class="result" {{data 'result'}}></span>
              <i class="fa fa-trash"></i>
            </a>
          </span>
        {{/if_helpers}}
      {{/instance}}
    {{/is_allowed}}
  </li>
</reusable-object>
